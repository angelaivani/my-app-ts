{"version":3,"sources":["telemetry-tracer.ts","pages/Landing/Landing.tsx","pages/AddProduct/AddProduct.tsx","pages/ProductList/ProductList.tsx","ErrorBoundary.js","pages/BuggyPage/BuggyPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["provider","WebTracerProvider","addSpanProcessor","SimpleSpanProcessor","ConsoleSpanExporter","register","contextManager","ZoneContextManager","registerInstrumentations","instrumentations","DocumentLoadInstrumentation","Landing","AddProduct","useState","name","isSelected","listCars","setListCars","handleChangeCheckbox","e","target","checked","index","findIndex","item","newList","map","FormGroup","carItem","FormControlLabel","control","Checkbox","onChange","label","warehouseList","id","ProductList","navigate","useNavigate","warehouseId","productSku","filterForm","users","setUsers","getData","axios","get","response","responseUsers","data","responseUser","fetchFakeError","console","log","errResponse","datadogRum","addError","errorSource","url","config","method","Box","sx","display","justifyContent","Button","onClick","alignItems","width","FormControl","fullWidth","InputLabel","Select","labelId","value","event","MenuItem","ErrorComponent","ErrorBoundary","state","hasError","error","message","stack","info","componentStack","errorInfo","datadogLogs","logger","this","setState","children","props","React","Component","getDerivedStateFromError","BuggyPage","counter","setCounter","Error","prev","App","className","to","style","marginRight","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","handlers","rest","req","res","ctx","status","json","userId","title","completed","setupWorker","root","ReactDOM","createRoot","document","getElementById","init","clientToken","service","site","forwardErrorsToLogs","sampleRate","applicationId","env","version","premiumSampleRate","trackInteractions","defaultPrivacyLevel","allowedTracingOrigins","origin","startSessionReplayRecording","render","StrictMode"],"mappings":"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","file":"static/js/main.517327c6.chunk.js","sourcesContent":["import { ConsoleSpanExporter, SimpleSpanProcessor } from '@opentelemetry/sdk-trace-base';\nimport { WebTracerProvider } from '@opentelemetry/sdk-trace-web';\nimport { DocumentLoadInstrumentation } from '@opentelemetry/instrumentation-document-load';\nimport { ZoneContextManager } from '@opentelemetry/context-zone';\nimport { registerInstrumentations } from '@opentelemetry/instrumentation';\n\nconst provider = new WebTracerProvider();\nprovider.addSpanProcessor(new SimpleSpanProcessor(new ConsoleSpanExporter()));\n\nprovider.register({\n  // Changing default contextManager to use ZoneContextManager - supports asynchronous operations - optional\n  contextManager: new ZoneContextManager(),\n});\n\n// Registering instrumentations\nregisterInstrumentations({\n  instrumentations: [\n    new DocumentLoadInstrumentation(),\n  ],\n});\n","const Landing = () => (\n  <h1>Hi Landing</h1>\n)\nexport default Landing","import { useState } from 'react' \nimport { FormGroup, FormControlLabel, Checkbox, CheckboxProps } from '@mui/material' \n\nconst AddProduct = () => {\n  const [listCars, setListCars] = useState([\n    {\n      name: 'Avanza',\n      isSelected: false\n    },\n    {\n      name: 'Toyota',\n      isSelected: false\n    }\n  ])\n  \n  const handleChangeCheckbox: CheckboxProps['onChange'] = (e) => {\n    const { name, checked } = e.target\n    const index = listCars.findIndex(item => item.name === name)\n\n    const newList = listCars.map(item => ({...item}))\n    newList[index].isSelected = checked\n    setListCars(newList)    \n  }\n\n  return (\n    <div>\n      <h1>Add Product Page</h1>    \n    <FormGroup>\n      {listCars.map(carItem => (\n        <FormControlLabel key={carItem.name} control={<Checkbox name={carItem.name} checked={carItem.isSelected} onChange={handleChangeCheckbox} /> } label={carItem.name} />\n      ))}        \n    </FormGroup>        \n    </div>\n  )\n}\nexport default AddProduct","import { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { Box, Button, FormControl, InputLabel, Select, SelectProps, MenuItem } from '@mui/material'\nimport { datadogRum } from '@datadog/browser-rum'\nimport axios, { AxiosError } from 'axios'\n\ntype UserStateType = {\n  id: string\n  name: string\n}\n\ntype FilterFormStateType = {\n  warehouseId: number\n  productSku: string\n}\n\nconst warehouseList = [\n  {\n    id: 1,\n    name: 'Kosambi'\n  },\n  {\n    id: 2,\n    name: 'Pegangsaan'\n  },\n  {\n    id: 3,\n    name: 'Jatim'\n  }\n]\nconst ProductList = () => {\n  const navigate = useNavigate()\n  const [filterForm, setFilterForm] = useState<FilterFormStateType>({\n    warehouseId: 0,\n    productSku: ''\n  })\n\n  const [users, setUsers] = useState<UserStateType[]>([])    \n\n  const getData = async() => {\n    const response = await axios.get('https://jsonplaceholder.typicode.com/users')\n    let responseUsers: UserStateType[] = response.data.map((responseUser: any) => {\n      return {\n        id: responseUser.id,\n        name: responseUser.name\n      }\n    })    \n    setUsers(responseUsers)\n  }\n\n  const handleRedirectToAddProduct = () => {\n    navigate('/product/add')\n  }\n\n  const handleChangeWarehouse: SelectProps['onChange'] = (event) => {    \n    console.log('SELECTED', event.target)\n  }\n\n  const fetchFakeError = async() => {\n    try {\n      const response = await axios.get('https://mock.codes/400')\n      console.log('RESPONSE', response)\n    }\n    catch(err) {\n      const errResponse = err as AxiosError\n      datadogRum.addError(err, { errorSource: 'API CALL ERROR', url: errResponse?.config?.url, method: errResponse?.config?.method })\n    }\n  }\n\n  return (\n    <>\n    <Box sx={{ display: 'flex', justifyContent: 'flex-end'}}>\n      <Button onClick={handleRedirectToAddProduct}>Add Product</Button>\n    </Box>\n    \n    <Box sx={{ display: 'flex', alignItems: 'center', width: '20%'}}>\n      <FormControl fullWidth>\n        <InputLabel id=\"demo-simple-select-label\">Gudang</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          name=\"warehouseId\"\n          value={filterForm.warehouseId}\n          label=\"Gudang\"\n          onChange={handleChangeWarehouse}\n        > \n        {warehouseList.map((item) => (\n          <MenuItem key={item.id} value={item.id}>{item.name}</MenuItem>\n        ))}                       \n        </Select>\n      </FormControl>\n      \n    </Box>\n\n    <button onClick={() => getData()}>FETCH DATA</button>\n    <button onClick={() => fetchFakeError()}>Simulate fake error</button>\n    <ul >\n      {users.map(item => (\n        <li key={item.id} data-testid=\"results\">{item.id} - {item.name}</li>\n      ))}\n    </ul>\n    </>        \n  )\n}\nexport default ProductList","import React from 'react'\nimport { datadogRum } from '@datadog/browser-rum'\nimport { datadogLogs } from '@datadog/browser-logs'\n\nconst ErrorComponent = () => <h1>ada error nie</h1>\n\nclass ErrorBoundary extends React.Component {\n  state = {\n    hasError: false,\n    error: { message: '', stack: '' },\n    info: { componentStack: '' },\n  }\n\n  static getDerivedStateFromError = (error) => {    \n    return { hasError: true }\n  }\n\n  componentDidCatch(error, info) {\n    datadogRum.addError(error, { error, errorInfo: info, errorSource: 'ERROR BOUNDARY' });\n    datadogLogs.logger.error('ERROR BOUNDARY in my-ts-app repo', { error: error, info })    \n    this.setState({ error, info })\n  }\n\n  render() {\n    const { hasError } = this.state\n    const { children } = this.props\n    if(hasError) {      \n      return <ErrorComponent />\n    }\n    return children    \n  }\n}\nexport default ErrorBoundary\n","import { useState } from 'react'\nimport { datadogLogs } from '@datadog/browser-logs'\nimport { Button } from '@mui/material'\nimport ErrorBoundary from '../../ErrorBoundary'\n\n\nconst BuggyPage = () => {\n  const [counter, setCounter] = useState(0)\n\n  const handleAddCounter = () => {\n    datadogLogs.logger.info('click counter in my-ts-app repo', { counter: counter+1})\n    setCounter(prev => prev + 1)\n  }\n\n  if(counter === 5) {    \n    throw new Error('error')\n  }\n\n  return (\n    <ErrorBoundary>\n      <Button onClick={handleAddCounter}>Add counter</Button>\n      <p>Current counter {counter}</p>\n      <p>when counter reach 5, error will be thrown</p>\n    </ErrorBoundary>    \n  )\n}\nexport default BuggyPage","import { BrowserRouter, Routes, Route } from 'react-router-dom'\nimport { Link } from \"react-router-dom\";\n\nimport Landing from './pages/Landing'\nimport AddProduct from './pages/AddProduct'\nimport ProductList from './pages/ProductList'\nimport BuggyPage from './pages/BuggyPage'\nimport './App.css';\n\nfunction App() {\n  \n\n\n  return (\n    <div className=\"App\">              \n        <BrowserRouter>\n        <Link to=\"/\" style={{ marginRight: '15px' }}>Landing Page</Link>\n        <Link to=\"/product/list\" style={{ marginRight: '15px' }}>Product List</Link>\n        <Link to=\"/product/add\" style={{ marginRight: '15px' }}>Product Add</Link>\n        <Link to=\"/buggy-page\" style={{ marginRight: '15px' }}>Buggy Page</Link>\n        <br />\n\n        <Routes>\n          <Route path=\"/\" element={<Landing />} />\n          <Route path=\"/product/add\" element={<AddProduct />} />\n          <Route path=\"/product/list\" element={<ProductList />} />          \n          <Route path=\"/buggy-page\" element={<BuggyPage />} />\n        \n          \n        </Routes>\n        </BrowserRouter>      \n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\n// import './tracer'\nimport './telemetry-tracer'\nimport { datadogRum } from '@datadog/browser-rum'\nimport { datadogLogs } from '@datadog/browser-logs'\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { rest, setupWorker } from 'msw'\n\nconst handlers = [\n  rest.get(\"https://jsonplaceholder.typicode.com/todos\", (req, res, ctx) => {\n    return res(\n      ctx.status(200),\n      ctx.json({\n        data: [\n          {\n            userId: 1,\n            id: 1,\n            title: 'todo-test-1',\n            completed: false\n          },\n          {\n            userId: 2,\n            id: 2,\n            title: 'todo-test-2 ',\n            completed: true\n          }\n        ]\n      })\n    );    \n  }),\n]\n\nconst worker = setupWorker(...handlers)\n\nif (process.env.NODE_ENV === 'development') {\n  worker.start()\n}\n\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\n\ndatadogLogs.init({\n  clientToken: 'pub2adfd6205348b86b3750b371febecb9d',\n  service: 'my-ts-app',\n  site: 'us5.datadoghq.com',\n  forwardErrorsToLogs: true,\n  sampleRate: 100,\n})\n\ndatadogRum.init({\n    applicationId: 'f751ab6b-15c7-49fe-bb07-e24f95b86614',\n    clientToken: 'pub2adfd6205348b86b3750b371febecb9d',\n    site: 'us5.datadoghq.com',\n    service:'my-ts-app',\n    env:'my-ts-app-dev',    \n    version: '1.0.0',\n    sampleRate: 100,\n    premiumSampleRate: 100,\n    trackInteractions: true,\n    defaultPrivacyLevel:'mask-user-input',\n    allowedTracingOrigins: [\"https://angelaivani.github.io/my-app-ts/\", (origin) => { console.log('ORIGIN', origin); return origin === \"https://angelaivani.github.io/my-app-ts\" || origin === \"https://angelaivani.github.io\" || origin === \"http://localhost:3000\"}]\n\n});\n    \ndatadogRum.startSessionReplayRecording();\n\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}